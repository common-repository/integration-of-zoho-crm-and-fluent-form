var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var b=(a,s,t)=>s in a?v(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,j=(a,s)=>{for(var t in s||(s={}))N.call(s,t)&&b(a,t,s[t]);if(g)for(var t of g(s))k.call(s,t)&&b(a,t,s[t]);return a};import{r as m,j as n}from"./index-1.0.4.js";import{u as M,b as _,a as z,_ as f}from"./bi-9-8.js";import{Z as E,I as Z,s as L}from"./bi-183-15.js";import{h as C,c as P}from"./bi-576-16.js";function q({formFields:a,setIntegration:s,integrations:t,allIntegURL:l}){const p=M(),{id:h,formID:r}=_(),[e,d]=m.useState(j({},t[h])),[I,x]=m.useState(!1),[w,i]=m.useState({show:!1}),[u,y]=m.useState(0),S=()=>{if(!P(e)){i({show:!0,msg:f("Please map mandatory fields","bitffzc")});return}L(r,t,s,l,e,p,h,1).then(o=>{o.success?(i({show:!0,msg:o==null?void 0:o.data}),setTimeout(()=>{p.push(l)},200)):i({show:!0,msg:(o==null?void 0:o.data)||o})})};return n.jsxs("div",{style:{width:900},children:[n.jsx(z,{snack:w,setSnackbar:i}),n.jsxs("div",{className:"flx mt-3",children:[n.jsx("b",{className:"wdt-100 d-in-b",children:f("Integration Name:","bitffzc")}),n.jsx("input",{className:"btcd-paper-inp w-7",onChange:c=>C(c,u,e,d),name:"name",value:e.name,type:"text",placeholder:f("Integration Name...","bitffzc")})]}),n.jsx(E,{tab:u,settab:y,formID:r,formFields:a,handleInput:c=>C(c,u,e,d,r,x,i),crmConf:e,setCrmConf:d,isLoading:I,setisLoading:x,setSnackbar:i}),n.jsx(Z,{edit:!0,saveConfig:S,disabled:e.module===""||e.layout===""||e.field_map.length<1}),n.jsx("br",{})]})}export{q as default};
