var Ue=Object.defineProperty,Ze=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var Fe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Ee=(t,a,c)=>a in t?Ue(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,F=(t,a)=>{for(var c in a||(a={}))Be.call(a,c)&&Ee(t,c,a[c]);if(Fe)for(var c of Fe(a))De.call(a,c)&&Ee(t,c,a[c]);return t},Me=(t,a)=>Ze(t,qe(a));var Oe=(t,a,c)=>new Promise((l,i)=>{var s=h=>{try{x(c.next(h))}catch(w){i(w)}},p=h=>{try{x(c.throw(h))}catch(w){i(w)}},x=h=>h.done?l(h.value):Promise.resolve(h.value).then(s,p);x((c=c.apply(t,a)).next())});import{j as e,r as R,e as g,L as oe}from"./index-1.0.4.js";import{c as Ke,_ as n,E as We,d as se,e as me,M as He,f as Se,g as Ge}from"./bi-9-8.js";import{a as Ye,r as Je,b as Qe}from"./bi-576-16.js";const pt=(t,a,c,l,i,s,p,x)=>Oe(void 0,null,function*(){const h=[...a];let w="integration/save";const E=F({formId:t},i);x&&(w="integration/update",h[p]=F(F({},a[p]),i));try{const y=yield Ke(E,w);return y.success&&(x||h.push(Me(F({},i),{newItegration:!0,id:y.data.id,status:1})),c([...h])),y}catch(y){return n("Failed to save integration","bitffzc")}}),mt=t=>{const a={},l=window.location.href.replace(`${window.opener.location.href}/redirect`,"").split("&");l&&l.forEach(i=>{const s=i.split("=");s[1]&&(a[s[0]]=s[1])}),localStorage.setItem(`__bitforms_${t}`,JSON.stringify(a)),window.close()},ue=(t,a,c,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.splice(t,0,{}):s.relatedlists[i-1].field_map.splice(t,0,{}):l?s.upload_field_map.splice(t,0,{}):s.field_map.splice(t,0,{}),c(F({},s))},Xe=(t,a,c,l,i)=>{const s=F({},a);i?l?s.relatedlists[i-1].upload_field_map.length>1&&s.relatedlists[i-1].upload_field_map.splice(t,1):s.relatedlists[i-1].field_map.length>1&&s.relatedlists[i-1].field_map.splice(t,1):l?s.upload_field_map.length>1&&s.upload_field_map.splice(t,1):s.field_map.length>1&&s.field_map.splice(t,1),c(F({},s))},Ae=(t,a,c,l,i,s)=>{const p=F({},c);s?i?p.relatedlists[s-1].upload_field_map[a][t.target.name]=t.target.value:p.relatedlists[s-1].field_map[a][t.target.name]=t.target.value:i?p.upload_field_map[a][t.target.name]=t.target.value:p.field_map[a][t.target.name]=t.target.value,t.target.value==="custom"&&(s?p.relatedlists[s-1].field_map[a].customValue="":p.field_map[a].customValue=""),l(F({},p))},Ce=(t,a,c,l,i)=>{const s=F({},c);i?s.relatedlists[i-1].field_map[a].customValue=t.target.value:s.field_map[a].customValue=t.target.value,l(F({},s))};function ft({step:t,saveConfig:a,edit:c,disabled:l}){return c?e.jsx("div",{className:"txt-center w-9 mt-3",children:e.jsx("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:n("Update","bitffzc")})}):e.jsxs("div",{className:"btcd-stp-page txt-center",style:{width:t===3&&"90%",height:t===3&&"100%"},children:[e.jsx("h2",{className:"ml-3",children:n("Successfully Integrated","bitffzc")}),e.jsxs("button",{onClick:a,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[n("Finish & Save ","bitffzc"),"✔"]})]})}function xe(t){var a=R.useRef();return a.current||(a.current={v:t()}),a.current.v}const we=R.createContext(),Ne=R.createContext(),et=({state:t,children:a})=>{const c=R.useState(0),l=xe(()=>({tabs:0,panels:0})),i=t||c;return g.createElement(Ne.Provider,{value:l},g.createElement(we.Provider,{value:i},a))},tt=()=>{const[t,a]=R.useContext(we),c=R.useContext(Ne),l=xe(()=>{const p=c.tabs;return c.tabs+=1,p}),i=xe(()=>()=>a(l));return R.useMemo(()=>({isActive:t===l,onClick:i}),[t,i,l])},st=()=>{const[t]=R.useContext(we),a=R.useContext(Ne);return xe(()=>{const l=a.panels;return a.panels+=1,l})===t},Ie=({children:t})=>{const a=tt();return typeof t=="function"?t(a):R.isValidElement(t)?R.cloneElement(t,a):t},Te=({active:t,children:a})=>st()||t?a:null;function ce(){return(ce=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])}return t}).apply(this,arguments)}function Ve(t,a){(a==null||a>t.length)&&(a=t.length);for(var c=0,l=new Array(a);c<a;c++)l[c]=t[c];return l}function $e(){return g.createElement("svg",{viewBox:"0 0 10 10",className:"msl-close-icn"},g.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"0",x2:"10",y2:"10"}),g.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"0",y1:"10",x2:"10",y2:"0"}))}function lt(t){var a,c=t.deleteAction;return g.createElement("div",{clickable:"true",className:"msl-chip"},typeof(a=t.value).label=="object"?(a==null?void 0:a.title)||a.value:a.label,g.createElement("div",{role:"button",clickable:"true","aria-label":"delete-value",onClick:c,onKeyPress:c,tabIndex:"0",className:"msl-btn msl-chip-delete msl-flx"},g.createElement($e,null)),g.createElement("span",null))}function at(){return g.createElement("svg",{viewBox:"0 0 20 20",className:"msl-arrow-icn"},g.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"10",y1:"14",x2:"4",y2:"8"}),g.createElement("line",{stroke:"currentColor",strokeLinecap:"round",x1:"16",y1:"8",x2:"10",y2:"14"}))}function Le(t){var a=t.singleSelect,c=t.addValue,l=t.checkValueExist,i=t.value;if(t.largeData&&!t.menuOpen)return null;var s=[];return function p(x){for(var h,w=function(){var y=h.value,O=y[0],d=y[1];d.type==="group"?(s.push(g.createElement("div",{key:d.title+O,"data-msl":!0,className:"msl-grp-title"},d.title)),d.childs.length>0?p(d.childs):s.push(g.createElement("option",{className:"msl-option msl-option-disable"},d.emptyDataLabel||"No Data Found"))):s.push(g.createElement("div",ce({tabIndex:"0",key:d.value+d.label+O+10},!a&&{"data-msl":!0},{style:ce({},d.style&&d.style),onClick:function(){!d.disabled&&c(d)},onKeyPress:function(b){b.key==="Enter"&&!d.disabled&&c(d)},title:typeof d.label=="object"?d==null?void 0:d.title:d.label,className:"msl-option "+(l(d,i)?"msl-option-active":"")+" "+(d.disabled?"msl-option-disable":"")+" "+(d.classes!==void 0?d.classes:""),value:d.value}),d.label))},E=function(y,O){var d=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(d)return(d=d.call(y)).next.bind(d);if(Array.isArray(y)||(d=function(k,q){if(k){if(typeof k=="string")return Ve(k,void 0);var _=Object.prototype.toString.call(k).slice(8,-1);return _==="Object"&&k.constructor&&(_=k.constructor.name),_==="Map"||_==="Set"?Array.from(k):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?Ve(k,void 0):void 0}}(y))){d&&(y=d);var b=0;return function(){return b>=y.length?{done:!0}:{done:!1,value:y[b++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(x.entries());!(h=E()).done;)w()}(t.opts),g.createElement("div",null,s)}function ye(t){var a=t.options,c=t.downArrowIcon,l=t.closeIcon,i=t.clearable,s=t.clearAll,p=t.downArrow,x=t.onChange,h=t.singleSelect,w=t.jsonValue,E=t.defaultValue,y=t.className,O=t.placeholder,d=t.disableChip,b=t.name,k=t.style,q=t.attr,_=t.largeData,S=t.disabled,I=t.limit,H=t.emptyDataLabel,P=t.customValue,G=t.onMenuOpen,D=t.onMenuClose,Y=t.chipAlternateText,J=t.closeOnSelect,Q=t.disableSearch,K=R.useState([]),o=K[0],le=K[1],ae=R.useState(a||[]),T=ae[0],ee=ae[1],ie=R.useState(null),U=ie[0],X=ie[1],r=R.useRef(null),f=function(m){var j=m.onClickOutside,v=R.useState(m.initialIsVisible),z=v[0],L=v[1],B=R.useRef(null),Z=function(M){M.key==="Escape"&&L(!1)},N=function M(ne){B.current&&!B.current.contains(ne.target)&&(document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",M,!0),L(!1),j())};return R.useEffect(function(){return document.addEventListener("keydown",Z,!0),document.addEventListener("click",N,!0),function(){document.removeEventListener("keydown",Z,!0),document.removeEventListener("click",N,!0)}}),{ref:B,isComponentVisible:z,setIsComponentVisible:L}}({initialIsVisible:!1,onClickOutside:D}),u=f.ref,V=f.isComponentVisible,A=f.setIsComponentVisible,te="calc(100% - "+(i&&p?60:p||i?40:5)+"px)";R.useEffect(function(){s&&o.length&&ve()},[s]),R.useEffect(function(){ee(a)},[a]),R.useEffect(function(){var m=function(j,v){if(!j)return[];var z=j,L=[],B=[];typeof j=="string"&&(z=j.split(","));for(var Z=function($){if(typeof $=="string")L.push({label:$,value:$});else if(typeof $=="object"){var ge={label:$,value:$};"label"in $&&typeof $.label=="string"?ge.label=$.label:"title"in $&&(ge.label=$.title),L.push(ge)}},N=0;N<z.length;N++)if(typeof z[N]=="string"){var M=pe(z[N],v,!0,"value");M.length>0?B.push(M[0]):P&&Z(z[N])}else if(typeof z[N]=="object"){var ne=pe(z[N].value,v,!0,"value");ne.length>0?B.push(ne[0]):P&&Z(z[N])}var re=[];return L.length&&(re=ke(L)),ee([].concat(a,re)),[].concat(B,L)}(E,T);h&&m.length&&(m=[m[0]]),le(m),J&&h&&A(!1)},[E]);var W,C,je=function(m){if(le(m),w)x(m);else{var j="";j+=m.map(function(v){return v.value}),x(j)}},de=function(m,j){return j.some(function(v){return v.value===m.value})},he=function(m){var j=[].concat(o);h?j=de(m,o)?[]:[m]:de(m,o)?j=j.filter(function(v){return v.value!==m.value}):(I===null||I>o.length)&&j.push(m),je(j),X(null),r.current&&(r.current.innerHTML="")},ve=function(){je([])},ze=function(){return!(Q||(h||d)&&(!h||o.length)&&(h||!d||o.length))},pe=function(m,j,v,z){var L=[],B=[];return function Z(N){for(var M=0;M<N.length;M++){var ne;if(((ne=N[M])===null||ne===void 0?void 0:ne.type)==="group")Z(N[M].childs);else if(v)v&&N[M][z]===m&&L.push(N[M]);else{var re,$;typeof N[M].label!="object"&&N[M].label.match(new RegExp(""+m,"gi"))||typeof N[M].label=="object"&&(re=N[M])!==null&&re!==void 0&&($=re.title)!==null&&$!==void 0&&$.match(new RegExp(""+m,"gi"))?L.push(N[M]):N[M].value.match(new RegExp(""+m,"gi"))&&B.push(N[M])}typeof N[M].label!="object"||"title"in N[M]}}(j),[].concat(L,B)},ke=function(m){var j=[],v=T.findIndex(function(z){return(z==null?void 0:z.type)==="group"&&(z==null?void 0:z.title)==="Custom Values"});return v===-1?j.push({title:"Custom Values",type:"group",childs:[].concat(m)}):Array.isArray(m)?m.map(function(z){return T[v].childs.push(z)}):typeof m=="object"&&T[v].childs.push(m),ee([].concat(T,j)),j},_e=function(m){var j=m.target;(function(v){return!(v.hasAttribute("clickable")||v.parentNode.hasAttribute("clickable")||v.parentNode.parentNode.hasAttribute("clickable")||v.parentNode.parentNode.parentNode.hasAttribute("clickable"))})(j)&&(function(v){if(v.hasAttribute("dropdown-handle")||v.parentNode.hasAttribute("dropdown-handle")||v.parentNode.parentNode.hasAttribute("dropdown-handle"))return!0}(j)&&V?(A(!1),D()):(A(!0),G(),r.current&&r.current.focus()))},Re=function(m){return typeof m.label=="object"?(m==null?void 0:m.title)||m.value:m.label};return g.createElement("div",ce({ref:u},q,{onClick:_e,tabIndex:"0",onKeyPress:_e,style:ce({},k),className:"msl-wrp msl-vars "+y+" "+(S?"msl-disabled":"")}),g.createElement("input",{name:b,type:"hidden",value:o==null?void 0:o.map(function(m){return m.value})}),g.createElement("div",{"data-msl":!0,className:"msl "+(V&&(W=u.current,C=W.getBoundingClientRect(),window.innerHeight-(C.top+W.clientHeight)<200?"msl-active-up":"msl-active"))+" "},g.createElement("div",{"data-msl":!0,className:"msl-input-wrp",style:{width:te}},!h&&!d&&o.map(function(m,j){return g.createElement(lt,{key:"msl-chip-"+(j+11),value:m,deleteAction:function(){return function(v){var z=[].concat(o);z.splice(v,1),je(z)}(j)}})}),!h&&d&&o.length>0&&g.createElement("span",{className:"msl-single-value","data-msl":!0},o.length===1?Re(o[0]):o.length+" "+Y),h&&o.length===1&&g.createElement("span",{className:"msl-single-value","data-msl":!0},Re(o[0])),ze()&&g.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input",contentEditable:!S,onKeyUp:function(m){var j=m.target.textContent.trim().replace(/,+/g,"");if(j){var v={label:'Create "'+j+'"',value:j},z=pe(j,T);z.length?(P&&!pe(j,T,!0,"value").length&&z.push(v),X(z)):X(P?[v]:[]);var L=function(B){var Z=B.label,N=B.value;return typeof Z!="object"&&Z.match(/Create "|"+/g)&&(Z=Z.replace(/Create "|"+/g,"")),{label:Z,value:N}}(v);m.key!=="Enter"&&m.key!==","||(!P||z.length||de(L,o)?U.length>0&&he(U[0]):(ke(L),he(v)))}else X(null)},ref:r}),!ze()&&o.length<1&&g.createElement("div",{"data-msl":!0,"data-placeholder":O,className:"msl-input"})),(i||p)&&g.createElement("div",{className:"msl-actions msl-flx"},i&&o.length>0&&g.createElement("div",{role:"button",clickable:"true","aria-label":"close-menu",onClick:ve,onKeyPress:ve,tabIndex:"0",className:"msl-btn msl-clear-btn msl-flx"},l||g.createElement($e,null)),p&&g.createElement("div",{role:"button",tabIndex:"0","dropdown-handle":"true",className:"msl-btn msl-arrow-btn msl-flx",style:ce({},V&&{transform:"rotate(180deg)"})},c||g.createElement(at,null)))),g.createElement("div",{className:"msl-options"},!U&&T.length?g.createElement(Le,{opts:T,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):U&&U.length?g.createElement(Le,{opts:U,singleSelect:h,addValue:he,checkValueExist:de,value:o,largeData:_,menuOpen:V}):(U&&!U.length||T&&!T.length)&&g.createElement("option",{className:"msl-option msl-option-disable"},H)))}ye.defaultProps={clearable:!0,clearAll:!1,downArrow:!0,singleSelect:!1,jsonValue:!1,defaultValue:"",disableChip:!1,name:"",style:{},disabled:!1,limit:null,emptyDataLabel:"No Data Found",placeholder:"Select...",onChange:function(){},onMenuOpen:function(){},onMenuClose:function(){},options:[{label:"Empty",value:"",disabled:!0,style:{textAlign:"center"}}],customValue:!1,chipAlternateText:"Item Selected",closeOnSelect:!0,disableSearch:!1};function fe({className:t,disabled:a,checked:c,onChange:l,radio:i,name:s,title:p,value:x,sqr:h}){return e.jsxs("label",{className:`btcd-ck-wrp ${t}`,children:[p,e.jsx("input",{type:i?"radio":"checkbox",checked:c,onChange:l,name:s,value:x,disabled:a}),e.jsx("span",{className:`btcd-mrk ${!h&&"br-50"} ${i?"rdo":"ck"}`})]})}function it({action:t,children:a}){return e.jsxs("div",{className:"action-btn-wrapper",children:[e.jsx("div",{className:"action-btn",tabIndex:"0",role:"button",onClick:t,onKeyPress:t,children:e.jsx(We,{})}),a]})}function Pe({crmConf:t,setCrmConf:a,formFields:c,tab:l,formID:i,setSnackbar:s}){var I,H,P,G,D,Y,J,Q,K,o,le,ae,T,ee,ie,U,X;const[p,x]=R.useState(!1),[h,w]=R.useState(!1),[E,y]=R.useState({show:!1,action:()=>{}}),O=typeof bitffzc!="undefined"&&bitffzc.isPro,d=(r,f)=>{var V,A;const u=F({},t);if(l===0){if(f==="attachment"&&(r!==""?u.actions.attachment=r:delete u.actions.attachment),f==="approval"&&(r.target.checked?u.actions.approval=!0:delete u.actions.approval),f==="workflow"&&(r.target.checked?u.actions.workflow=!0:delete u.actions.workflow),f==="blueprint"&&(r.target.checked?u.actions.blueprint=!0:delete u.actions.blueprint),f==="gclid"&&(r.target.checked?u.actions.gclid=!0:delete u.actions.gclid),f==="assignment_rules"&&(r!==""?u.actions.assignment_rules=r:delete u.actions.assignment_rules),f==="tag_rec"&&(r!==""?u.actions.tag_rec=r:delete u.actions.tag_rec),f==="rec_owner"&&(r!==""?u.actions.rec_owner=r:delete u.actions.rec_owner),f==="upsert")if(r.target.checked){const te=(V=u.default.layouts[u.module][u.layout].unique)==null?void 0:V.map((W,C)=>({i:C,name:W}));u.actions.upsert={overwrite:!0,crmField:te}}else delete u.actions.upsert}else if(f==="attachment"&&(r!==""?u.relatedlists[l-1].actions.attachment=r:delete u.relatedlists[l-1].actions.attachment),f==="approval"&&(r.target.checked?u.relatedlists[l-1].actions.approval=!0:delete u.relatedlists[l-1].actions.approval),f==="workflow"&&(r.target.checked?u.relatedlists[l-1].actions.workflow=!0:delete u.relatedlists[l-1].actions.workflow),f==="blueprint"&&(r.target.checked?u.relatedlists[l-1].actions.blueprint=!0:delete u.relatedlists[l-1].actions.blueprint),f==="gclid"&&(r.target.checked?u.relatedlists[l-1].actions.gclid=!0:delete u.relatedlists[l-1].actions.gclid),f==="assignment_rules"&&(r!==""?u.relatedlists[l-1].actions.assignment_rules=r:delete u.relatedlists[l-1].actions.assignment_rules),f==="tag_rec"&&(r!==""?u.relatedlists[l-1].actions.tag_rec=r:delete u.relatedlists[l-1].actions.tag_rec),f==="rec_owner"&&(r!==""?u.relatedlists[l-1].actions.rec_owner=r:delete u.relatedlists[l-1].actions.rec_owner),f==="upsert")if(r.target.checked){const te=(A=u.default.layouts[u.relatedlists[l-1].module][u.relatedlists[l-1].layout].unique)==null?void 0:A.map((W,C)=>({i:C,name:W}));u.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te}}else delete u.relatedlists[l-1].actions.upsert;a(F({},u))},b=()=>{y({show:!1})},k=l===0?t.module:t.relatedlists[l-1].module,q=()=>{var f,u;const r=[{title:"Zoho CRM Tags",type:"group",childs:[]},{title:"Form Fields",type:"group",childs:[]}];return(f=t.default.tags)!=null&&f[k]&&(r[0].childs=Object.values((u=t.default.tags)==null?void 0:u[k]).map(V=>({label:V,value:V}))),r[1].childs=c.map(V=>({label:V.name,value:`\${${V.key}}`})),r},_=(r,f)=>{const u=F({},t);l===0?(f==="list"&&(u.actions.upsert.crmField=r),f==="overwrite"&&(u.actions.upsert.overwrite=r)):(f==="list"&&(u.relatedlists[l-1].actions.upsert.crmField=r),f==="overwrite"&&(u.relatedlists[l-1].actions.upsert.overwrite=r)),a(F({},u))},S=()=>{var r,f,u,V;if(l&&!((r=t.relatedlists[l-1].actions.upsert)!=null&&r.crmField)){const A=F({},t),te=(f=A.default.layouts[A.relatedlists[l-1].module][A.relatedlists[l-1].layout].unique)==null?void 0:f.map((W,C)=>({i:C,name:W}));A.relatedlists[l-1].actions.upsert={overwrite:!0,crmField:te},a(A)}else if(!((u=t.actions.upsert)!=null&&u.crmField)){const A=F({},t),te=(V=A.default.layouts[A.module][A.layout].unique)==null?void 0:V.map((W,C)=>({i:C,name:W}));A.actions.upsert={overwrite:!0,crmField:te},a(F({},A))}x(!0)};return e.jsxs("div",{className:"pos-rel",children:[!O&&e.jsx("div",{className:"pro-blur flx w-10",style:{top:-25},children:e.jsxs("div",{className:"pro",children:[n("Available On","bitffzc"),e.jsx("a",{href:"https://bitpress.pro/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitffzc")]})})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(se,{onChange:r=>d(r,"workflow"),checked:l===0?"workflow"in t.actions:"workflow"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Workflow",title:n("Workflow","bitffzc"),subTitle:n("Trigger CRM workflows","bitffzc")}),e.jsx(se,{onChange:()=>y({show:"attachment"}),checked:l===0?"attachment"in t.actions:"attachment"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Attachment",title:n("Attachment","bitffzc"),subTitle:n("Add attachments or signatures from BitForm to CRM.","bitffzc")}),e.jsx(se,{onChange:r=>d(r,"approval"),checked:l===0?"approval"in t.actions:"approval"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Approval",title:n("Approval","bitffzc"),subTitle:n("Send entries to CRM approval list.","bitffzc")}),e.jsx(se,{onChange:r=>d(r,"blueprint"),checked:l===0?"blueprint"in t.actions:"blueprint"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Blueprint",title:n("Blueprint","bitffzc"),subTitle:n("Trigger CRM Blueprint","bitffzc")}),e.jsx(se,{onChange:r=>d(r,"gclid"),checked:l===0?"gclid"in t.actions:"gclid"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Capture_GCLID",title:n("Capture GCLID","bitffzc"),subTitle:n("Sends the click details of AdWords Ads to Zoho CRM.","bitffzc")}),e.jsx(it,{action:S,children:e.jsx(se,{onChange:r=>d(r,"upsert"),checked:l===0?"upsert"in t.actions:"upsert"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",title:n("Upsert Records","bitffzc"),subTitle:n("The record is updated if it already exists else it is inserted as a new record.","bitffzc")})}),e.jsx(se,{checked:l===0?"assignment_rules"in t.actions:"assignment_rules"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Assignment_Rule",title:n("Assignment Rules","bitffzc"),subTitle:n("Trigger Assignment Rules in Zoho CRM.","bitffzc")}),e.jsx(se,{onChange:()=>y({show:"tag_rec"}),checked:l===0?"tag_rec"in t.actions:"tag_rec"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Tag_Records",title:n("Tag Records","bitffzc"),subTitle:n("Add a tag to records pushed to Zoho CRM.","bitffzc")}),e.jsx(se,{checked:l===0?"rec_owner"in t.actions:"rec_owner"in t.relatedlists[l-1].actions,className:"wdt-200 mt-4 mr-2",value:"Record_Owner",title:n("Record Owner","bitffzc"),subTitle:n("Add a owner to records pushed to Zoho CRM.","bitffzc")})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitffzc"),show:E.show==="attachment",close:b,action:b,title:n("Select Attachment","bitffzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Select file upload fields","bitffzc")}),e.jsx(ye,{defaultValue:l===0?t.actions.attachment:t.relatedlists[l-1].actions.attachment,className:"mt-2 w-9",onChange:r=>d(r,"attachment"),options:c.filter(r=>r.type==="file").map(r=>({label:r.name,value:r.key}))})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitffzc"),show:E.show==="assignment_rules",close:b,action:b,title:n("Assignment Rules","bitffzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Assignment Rules","bitffzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.assignment_rules:t.relatedlists[l-1].actions.assignment_rules,className:"btcd-paper-inp",onChange:r=>d(r.target.value,"assignment_rules"),children:[e.jsx("option",{value:"",children:n("Select Assignment Rule","bitffzc")}),((H=(I=t==null?void 0:t.default)==null?void 0:I.assignmentRules)==null?void 0:H[k])&&Object.keys(t.default.assignmentRules[k]).map(r=>e.jsx("option",{value:t.default.assignmentRules[k][r],children:r},r))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Assignment Rules","bitffzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitffzc"),show:E.show==="tag_rec",close:b,action:b,title:n("Tag Records","bitffzc"),children:[e.jsx("div",{className:"btcd-hr mt-2 mb-2"}),e.jsx("small",{children:n("Add a tag to records pushed to Zoho CRM","bitffzc")}),e.jsx("div",{className:"mt-2",children:n("Tag Name","bitffzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsx(ye,{className:"msl-wrp-options",defaultValue:l===0?t.actions.tag_rec:t.relatedlists[l-1].actions.tag_rec,options:q(),onChange:r=>d(r,"tag_rec"),customValue:!0}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${n("Refresh CRM Tags","bitffzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsxs(me,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bitffzc"),show:E.show==="rec_owner",close:b,action:b,title:n("Record Owner","bitffzc"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Owner Name","bitffzc")}),h?e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:l===0?t.actions.rec_owner:t.relatedlists[l-1].actions.rec_owner,className:"btcd-paper-inp",onChange:r=>d(r.target.value,"rec_owner"),children:[e.jsx("option",{value:"",children:n("Select Owner","bitffzc")}),((P=t.default)==null?void 0:P.crmOwner)&&((G=Object.values(t.default.crmOwner))==null?void 0:G.map(r=>e.jsx("option",{value:r.id,children:r.full_name},r.id)))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Owners","bitffzc")}'`},type:"button",disabled:h,children:"↻"})]})]}),e.jsx(He,{md:!0,show:p,setModal:x,title:n("Upsert Record","bitffzc"),children:e.jsx("div",{className:"o-a",children:l===0?((D=t==null?void 0:t.actions)==null?void 0:D.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitffzc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitffzc")}),e.jsx(Se.ReactSortable,{list:(Y=t.actions.upsert)==null?void 0:Y.crmField,setList:r=>_(r,"list"),children:(Q=(J=t.actions.upsert)==null?void 0:J.crmField)==null?void 0:Q.map(r=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),r.name]},`cf-${r.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitffzc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Fluent Form while upserting a record?","bitffzc")}),e.jsxs("div",{children:[e.jsx(fe,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(K=t.actions.upsert)==null?void 0:K.overwrite,name:"up-rec",title:n("Yes","bitffzc")}),e.jsx(fe,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((o=t.actions.upsert)!=null&&o.overwrite),name:"up-rec",title:n("No","bitffzc")})]})]}):((ae=(le=t==null?void 0:t.relatedlists[l-1])==null?void 0:le.actions)==null?void 0:ae.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bitffzc")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bitffzc")}),e.jsx(Se.ReactSortable,{list:(T=t.relatedlists[l-1].actions.upsert)==null?void 0:T.crmField,setList:r=>_(r,"list"),children:(ie=(ee=t.relatedlists[l-1].actions.upsert)==null?void 0:ee.crmField)==null?void 0:ie.map(r=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),r.name]},`cf-${r.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bitffzc")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For Fluent Form while upserting a record?","bitffzc")}),e.jsxs("div",{children:[e.jsx(fe,{onChange:()=>_(!0,"overwrite"),radio:!0,checked:(U=t.relatedlists[l-1].actions.upsert)==null?void 0:U.overwrite,name:"up-rec",title:n("Yes","bitffzc")}),e.jsx(fe,{onChange:()=>_(!1,"overwrite"),radio:!0,checked:!((X=t.relatedlists[l-1].actions.upsert)!=null&&X.overwrite),name:"up-rec",title:n("No","bitffzc")})]})]})})})]})}function nt({label:t,onChange:a,value:c,disabled:l,type:i,textarea:s,className:p}){return e.jsxs("label",{className:`btcd-mt-inp ${p}`,children:[!s&&e.jsx("input",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:c}),s&&e.jsx("textarea",{type:i===void 0?"text":i,onChange:a,placeholder:" ",disabled:l,value:c}),e.jsx("span",{children:t})]})}function be({i:t,formFields:a,uploadFields:c,field:l,crmConf:i,setCrmConf:s,tab:p}){var E,y,O,d,b,k,q,_,S,I,H,P,G,D,Y,J,Q,K;const x=p===0?i.module:(y=(E=i.relatedlists)==null?void 0:E[p-1])==null?void 0:y.module,h=p===0?i.layout:(d=(O=i.relatedlists)==null?void 0:O[p-1])==null?void 0:d.layout;let w;return c?w=l.zohoFormField===""||((_=(q=(k=(b=i.default.layouts)==null?void 0:b[x])==null?void 0:k[h])==null?void 0:q.requiredFileUploadFields)==null?void 0:_.indexOf(l.zohoFormField))===-1:w=l.zohoFormField===""||((P=(H=(I=(S=i.default.layouts)==null?void 0:S[x])==null?void 0:I[h])==null?void 0:H.required)==null?void 0:P.indexOf(l.zohoFormField))===-1,e.jsxs("div",{className:"flx mt-2 mr-1",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:o=>Ae(o,t,i,s,c,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitffzc")}),c?a.map(o=>o.type==="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)):a.map(o=>o.type!=="file"&&e.jsx("option",{value:o.name,children:o.label},`ff-zhcrm-${o.name}`)),!c&&e.jsx("option",{value:"custom",children:n("Custom...","bitffzc")})]}),l.formField==="custom"&&e.jsx(nt,{onChange:o=>Ce(o,t,i,s,p),label:n("Custom Value","bitffzc"),className:"mr-2",type:"text",value:l.customValue,placeholder:n("Custom Value","bitffzc")}),e.jsxs("select",{className:"btcd-paper-inp",disabled:!w,name:"zohoFormField",value:l.zohoFormField||"",onChange:o=>Ae(o,t,i,s,c,p),children:[e.jsx("option",{value:"",children:n("Select Field","bitffzc")}),c?((Y=(D=(G=i.default.layouts)==null?void 0:G[x])==null?void 0:D[h])==null?void 0:Y.fileUploadFields)&&Object.keys(i.default.layouts[x][h].fileUploadFields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[x][h].fileUploadFields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[x][h].fileUploadFields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[x][h].fileUploadFields[o].display_label},o)):((K=(Q=(J=i.default.layouts)==null?void 0:J[x])==null?void 0:Q[h])==null?void 0:K.fields)&&Object.keys(i.default.layouts[x][h].fields).filter(o=>o.required!==!0).map(o=>w?!i.default.layouts[x][h].fields[o].required&&e.jsx("option",{value:o,children:i.default.layouts[x][h].fields[o].display_label},o):e.jsx("option",{value:o,children:i.default.layouts[x][h].fields[o].display_label},o)),e.jsx("option",{value:"",disabled:!0,children:n("More fields on the Pro version","bitffzc")})]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ue(t,i,s,c,p),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>Xe(t,i,s,c,p),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})]})}function rt({tab:t,settab:a,formID:c,formFields:l,crmConf:i,setCrmConf:s,handleInput:p,isLoading:x,setisLoading:h,setSnackbar:w}){var y,O,d,b,k,q,_;R.useEffect(()=>{Ye(0,a)},[]);const E=typeof bitffzc!="undefined"&&bitffzc.isPro;return e.jsxs(e.Fragment,{children:[x&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitffzc")}),e.jsxs("select",{onChange:p,name:"layout",value:i.layout,className:"btcd-paper-inp w-7",children:[e.jsx("option",{value:"",children:n("Select Layout","bitffzc")}),((O=(y=i==null?void 0:i.default)==null?void 0:y.layouts)==null?void 0:O[i.module])&&Object.keys(i.default.layouts[i.module]).map(S=>e.jsx("option",{value:S,children:S},S)),e.jsx("option",{value:"",disabled:!0,children:n("More layouts on the Pro version","bitffzc")})]}),e.jsx("button",{onClick:()=>Je(t,c,i,s,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Layouts","bitffzc")}'`},type:"button",disabled:x,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),((q=(k=(b=(d=i.default)==null?void 0:d.layouts)==null?void 0:b[i.module])==null?void 0:k[i.layout])==null?void 0:q.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitffzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitffzc")})})]}),i.field_map.map((S,I)=>e.jsx(be,{i:I,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${I+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.field_map.length,i,s,!1,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),Object.keys((_=i.default.layouts[i.module][i.layout])==null?void 0:_.fileUploadFields).length!==0&&e.jsxs("div",{className:"pos-rel",children:[!E&&e.jsx("div",{className:"pro-blur flx",children:e.jsxs("div",{className:"pro",children:["Available On",e.jsx("a",{href:"https://bitpress.pro/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitffzc")]})})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Map File Upload Fields","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitffzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitffzc")})})]}),i.upload_field_map.map((S,I)=>e.jsx(be,{i:I,uploadFields:!0,field:S,crmConf:i,formFields:l,setCrmConf:s,tab:t,setSnackbar:w},`crm-m-${I+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(i.upload_field_map.length,i,s,!0,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Pe,{formID:c,formFields:l,crmConf:i,setCrmConf:s,tab:t,setSnackbar:w})]})]})}function ct({indx:t,tab:a,settab:c,formID:l,formFields:i,crmConf:s,setCrmConf:p,handleInput:x,isLoading:h,setisLoading:w,setSnackbar:E}){var O,d,b,k,q,_,S,I,H,P,G,D,Y,J,Q,K,o,le,ae,T,ee,ie,U,X,r;const y=typeof bitffzc!="undefined"&&bitffzc.isPro;return e.jsxs(e.Fragment,{children:[h&&e.jsx(oe,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),!y&&e.jsxs("div",{className:"pos-rel",children:[e.jsx("div",{className:"pro-blur flx w-9",children:e.jsxs("div",{className:"pro",children:[n("Available On","bitffzc"),e.jsx("a",{href:"https://bitpress.pro/",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bitffzc")]})})]})}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Related List:","bitffzc")}),e.jsxs("select",{onChange:x,name:"module",value:(d=(O=s==null?void 0:s.relatedlists)==null?void 0:O[a-1])==null?void 0:d.module,className:"btcd-paper-inp w-7",disabled:!s.module,children:[e.jsx("option",{value:"",children:n("Select Related Module","bitffzc")}),((k=(b=s==null?void 0:s.default)==null?void 0:b.relatedlists)==null?void 0:k[s.module])&&Object.values(s.default.relatedlists[s.module]).map(f=>e.jsx("option",{value:f.module,children:f.name},f.module))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Related Lists","bitffzc")}'`},type:"button",disabled:h,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bitffzc")}),e.jsxs("select",{onChange:x,name:"layout",value:(_=(q=s==null?void 0:s.relatedlists)==null?void 0:q[a-1])==null?void 0:_.layout,className:"btcd-paper-inp w-7",disabled:!((I=(S=s==null?void 0:s.relatedlists)==null?void 0:S[a-1])!=null&&I.module),children:[e.jsx("option",{value:"",children:n("Select Layout","bitffzc")}),((D=(H=s==null?void 0:s.default)==null?void 0:H.layouts)==null?void 0:D[(G=(P=s.relatedlists)==null?void 0:P[a-1])==null?void 0:G.module])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module]).map(f=>e.jsx("option",{value:f,children:f},f))]}),e.jsx("button",{className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh CRM Layouts"'},type:"button",disabled:h,children:"↻"})]}),e.jsx("br",{}),e.jsx("br",{}),((T=(ae=(K=(Y=s.default)==null?void 0:Y.layouts)==null?void 0:K[(Q=(J=s==null?void 0:s.relatedlists)==null?void 0:J[a-1])==null?void 0:Q.module])==null?void 0:ae[(le=(o=s==null?void 0:s.relatedlists)==null?void 0:o[a-1])==null?void 0:le.layout])==null?void 0:T.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitffzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitffzc")})})]}),(U=(ie=(ee=s.relatedlists)==null?void 0:ee[a-1])==null?void 0:ie.field_map)==null?void 0:U.map((f,u)=>e.jsx(be,{i:u,field:f,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].field_map.length,s,p,!1,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),((r=(X=s.default)==null?void 0:X.layouts[s.relatedlists[a-1].module])==null?void 0:r[s.relatedlists[a-1].layout])&&Object.keys(s.default.layouts[s.relatedlists[a-1].module][s.relatedlists[a-1].layout].fileUploadFields).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("File Upload Field Map","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-1",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bitffzc")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bitffzc")})})]}),s.relatedlists[a-1].upload_field_map.map((f,u)=>e.jsx(be,{i:u,uploadFields:1,field:f,crmConf:s,formFields:i,setCrmConf:p,tab:a,setSnackbar:E},`crm-m-${u+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>ue(s.relatedlists[a-1].upload_field_map.length,s,p,!0,a),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bitffzc")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Pe,{formFields:i,crmConf:s,setCrmConf:p,tab:a,formID:l,setSnackbar:E})]})]})}function xt({tab:t,settab:a,formID:c,formFields:l,handleInput:i,crmConf:s,setCrmConf:p,isLoading:x,setisLoading:h,setSnackbar:w}){var O;const E=()=>{if(s.relatedlists.length<3){const d=F({},s);d.relatedlists.push({actions:{},field_map:[{formField:"",zohoFormField:""}],layout:"",module:"",upload_field_map:[{formField:"",zohoFormField:""}]}),p(F({},d))}},y=d=>{const b=F({},s);b.relatedlists.splice(d,1),b.relatedlists.length||a(0),p(F({},b))};return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Module:","bitffzc")}),e.jsxs("select",{onChange:i,name:"module",value:s.module,className:"btcd-paper-inp w-7",disabled:t,children:[e.jsx("option",{value:"",children:n("Select Module","bitffzc")}),((O=s==null?void 0:s.default)==null?void 0:O.modules)&&Object.keys(s.default.modules).map(d=>e.jsx("option",{value:d,children:s.default.modules[d].plural_label},d)),e.jsx("option",{value:"",disabled:!0,children:n("More module on the Pro version","bitffzc")})]}),t===0&&e.jsx("button",{onClick:()=>Qe(c,s,p,h,w),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Modules","bitffzc")}'`},type:"button",disabled:x,children:"↻"}),e.jsx("br",{}),e.jsx("div",{children:e.jsxs(et,{children:[e.jsxs("div",{className:"flx mt-2",children:[e.jsx(Ie,{children:e.jsx("button",{className:`btcd-s-tab-link ${t===0&&"s-t-l-active"}`,type:"button",children:n("New Record","bitffzc")})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,b)=>e.jsxs(e.Fragment,{children:[e.jsx(Ie,{children:e.jsxs("button",{className:`btcd-s-tab-link ${t===b+1&&"s-t-l-active"}`,type:"button",children:[n("Related List #","bitffzc"),b+1]})},`t-${b*3}`),e.jsx("button",{onClick:()=>y(b),className:"icn-btn","aria-label":"delete-relatedlist",type:"button",children:e.jsx(Ge,{size:"14"})})]})),s.relatedlists.length<3&&e.jsx("button",{onClick:E,className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Add More Related List","bitffzc")}'`},type:"button",children:"+"})]}),e.jsx("div",{className:"btcd-hr"}),e.jsx(Te,{children:e.jsx(rt,{tab:t,settab:a,formID:c,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:x,setisLoading:h,setSnackbar:w})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((d,b)=>e.jsx(Te,{children:e.jsx(ct,{indx:b,tab:t,settab:a,formID:c,formFields:l,crmConf:s,setCrmConf:p,handleInput:i,isLoading:x,setisLoading:h,setSnackbar:w})},`p-${b+2.4}`))]})}),e.jsx("br",{})]})}export{ft as I,xt as Z,mt as a,pt as s};
